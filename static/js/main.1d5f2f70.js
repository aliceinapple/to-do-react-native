(()=>{"use strict";var t={1647:(t,e,r)=>{r.r(e),r.d(e,{TodosContext:()=>A,default:()=>q});var n=r(885),o=r(5861),i=r(5004),a=r(1054),d=r(9385);const l=JSON.parse('{"SERVER_URL":"192.168.0.104"}');var u=function(){var t=(0,o.default)((function*(){try{var t=yield fetch(`http://${l.SERVER_URL}:3000/todos`);if(!t.ok)throw new Error(`Error fetching todos: ${t.status}`);return yield t.json()}catch(e){console.error("Error fetching todos:",e)}}));return function(){return t.apply(this,arguments)}}(),c={app_title:"To do!",add_task_message:"Add your first task",add_todo:"Add todo"},s=r(3019),f=r(4942),p=r(9904),h=r(4291),y=r(5288),g=r(6792),v="rgba(255, 255, 255, 0.87)",b="#E0F1F2",m="rgba(88, 100, 146, 1)",x="#E5408C",j="#C9CDF0",w="rgba(255, 255, 255, 0.5)",E="rgba(0, 0, 0, 0.1)",O="transparent",C=g.default.create({container:{flex:1,backgroundColor:j,alignItems:"center",paddingTop:"10%",paddingLeft:"5%",paddingRight:"5%",paddingBottom:"10%"},block:{backgroundColor:w,width:"100%",alignItems:"center",justifyContent:"center",padding:10,borderRadius:6,shadowColor:m,shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:5},col:{display:"flex",flexDirection:"column",gap:5},row:{display:"flex",flexDirection:"row",gap:5},item:{backgroundColor:v,padding:10,alignItems:"center",justifyContent:"center",borderRadius:6},itemEdit:{backgroundColor:b,padding:10,alignItems:"center",justifyContent:"center",borderRadius:6},itemCompleted:{backgroundColor:w,padding:10,alignItems:"center",justifyContent:"center",borderRadius:6},title:{color:v,fontSize:40,fontWeight:"600"},button:{flexDirection:"row",alignItems:"center",padding:10,borderRadius:5,borderWidth:1,borderColor:O},disabledButton:{opacity:.5},primaryButton:{backgroundColor:O,borderColor:O},buttonText:{marginLeft:5,color:"white"},input:{flexGrow:1,alignSelf:"stretch",padding:10,borderColor:O,borderWidth:1,fontSize:20,fontWeight:"600"},inputEdit:{backgroundColor:v,borderRadius:6,fontWeight:"600"}}),k=r(2629);const S=function(t){var e=t.disabled,r=t.type,n=void 0===r?"default":r,d=t.icon,l=t.onClick,u=t.text,c=(0,i.useContext)(A).handleGetTodos,s=function(){var t=(0,o.default)((function*(){yield l(),yield c()}));return function(){return t.apply(this,arguments)}}();return(0,k.jsxs)(y.default,{style:[C.button,e&&C.disabledButton,"primary"===n&&C.primaryButton],disabled:e,onPress:s,activeOpacity:.7,children:[d,u&&(0,k.jsx)(a.default,{style:C.buttonText,children:u})]})};var R=function(){var t=(0,o.default)((function*(t,e){try{if(!(yield fetch(`http://${l.SERVER_URL}:3000/todos/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!e})})).ok)throw new Error("Error toggling todo")}catch(r){throw console.error("Error toggling todo:",r),r}}));return function(e,r){return t.apply(this,arguments)}}();const T=function(t){var e=t.id,r=t.completed,n=function(){var t=(0,o.default)((function*(){yield R(e,r)}));return function(){return t.apply(this,arguments)}}();return(0,k.jsx)(S,{type:"primary",icon:r?(0,k.jsx)(h.default,{name:"back",size:24}):(0,k.jsx)(h.default,{name:"check",size:24}),onClick:n})};g.default.create({container:{flexDirection:"row"}});const P=function(t){var e=t.readOnly,r=t.setReadOnly,n=t.handleEdit,i=t.completed,a=function(){var t=(0,o.default)((function*(){r(!1)}));return function(){return t.apply(this,arguments)}}();return e?(0,k.jsx)(S,{disabled:i,type:"primary",icon:(0,k.jsx)(h.default,{name:"edit",size:24}),onClick:a}):(0,k.jsx)(S,{type:"primary",icon:(0,k.jsx)(h.default,{name:"checksquareo",size:24}),onClick:n})};var _=function(){var t=(0,o.default)((function*(t){try{if(!(yield fetch(`http://${l.SERVER_URL}:3000/todos/${t}`,{method:"DELETE"})).ok)throw new Error("Error deleting todo")}catch(e){throw console.error("Error deleting todo:",e),e}}));return function(e){return t.apply(this,arguments)}}();const V=function(t){var e=t.id,r=function(){var t=(0,o.default)((function*(){yield _(e)}));return function(){return t.apply(this,arguments)}}();return(0,k.jsx)(S,{type:"warning",icon:(0,k.jsx)(h.default,{name:"delete",size:24,color:x}),onClick:r})};var D=r(6591);const L=function(t){var e=t.placeholder,r=t.multiline,n=t.readOnly,a=t.value,d=t.style,l=t.setValue,u=t.onPressEnter,c=(0,i.useContext)(A).handleGetTodos,s=function(){var t=(0,o.default)((function*(){yield u(),yield c()}));return function(){return t.apply(this,arguments)}}();return(0,k.jsx)(D.default,{placeholder:e,placeholderTextColor:E,editable:!n,value:a,onChangeText:function(t){l(t)},onSubmitEditing:s,multiline:r,style:[d,C.input]})};const $=function(t){var e=t.readOnly,r=t.completed,n=t.value,o=t.setValue,i=t.handleEdit,a={textDecorationLine:r?"line-through":"none"};return(0,k.jsx)(L,{readOnly:e,multiline:!0,value:n,setValue:o,onPressEnter:i,style:[a,!e&&C.inputEdit]})};var z=function(){var t=(0,o.default)((function*(t,e){try{if(!(yield fetch(`http://${l.SERVER_URL}:3000/todos/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e})})).ok)throw new Error("Error editing todo")}catch(r){throw console.error("Error editing todo:",r),r}}));return function(e,r){return t.apply(this,arguments)}}();function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){(0,f.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const W=function(t){var e=t.text,r=t.id,a=t.completed,l=(0,i.useState)(e),u=(0,n.default)(l,2),c=u[0],s=u[1],f=(0,i.useState)(!0),h=(0,n.default)(f,2),y=h[0],g=h[1],v=(0,i.useState)(new p.default.Value(0)),b=(0,n.default)(v,1)[0],m=function(){var t=(0,o.default)((function*(){yield z(r,c),g(!0)}));return function(){return t.apply(this,arguments)}}();return(0,i.useEffect)((function(){p.default.timing(b,{toValue:1,duration:200,useNativeDriver:!0}).start()}),[]),(0,k.jsx)(p.default.View,{style:{opacity:b},children:(0,k.jsxs)(d.default,{style:I({},a?C.itemCompleted:y?C.item:C.itemEdit),children:[(0,k.jsx)($,{readOnly:y,completed:a,value:c,setValue:s,handleEdit:m}),(0,k.jsxs)(d.default,{style:I(I({},C.row),{},{alignSelf:"stretch",justifyContent:"flex-end"}),children:[(0,k.jsx)(T,{id:r,completed:a}),(0,k.jsx)(P,{readOnly:y,setReadOnly:g,handleEdit:m,completed:a}),(0,k.jsx)(V,{id:r})]})]},r)})};const B=function(t){var e=t.todos,r=null==e?void 0:e.filter((function(t){return t.completed})),n=null==e?void 0:e.filter((function(t){return!t.completed}));return(0,k.jsxs)(s.default,{contentContainerStyle:{justifyContent:"center",gap:10},children:[null==n?void 0:n.map((function(t){return(0,k.jsx)(W,{text:t.text,id:t._id,completed:t.completed},t._id)})),null==r?void 0:r.map((function(t){return(0,k.jsx)(W,{text:t.text,id:t._id,completed:t.completed},t._id)}))]})};var G=function(){var t=(0,o.default)((function*(t){try{if(!(yield fetch(`http://${l.SERVER_URL}:3000/todos`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,completed:!1})})).ok)throw new Error("Error adding todo")}catch(e){throw console.error("Error adding todo:",e),e}}));return function(e){return t.apply(this,arguments)}}(),N=r(4584).default.get("window").width;const F=function(t){var e=t.value,r=t.setValue,n=t.handleCreateTodo;return(0,k.jsx)(L,{placeholder:c.add_todo,multiline:!1,value:e,setValue:r,onPressEnter:n,style:{maxWidth:N-100}})};const J=function(t){var e=t.handleCreateTodo;return(0,k.jsx)(S,{type:"primary",icon:(0,k.jsx)(h.default,{name:"plus",size:30}),onClick:e})};const M=function(){var t=(0,i.useState)(""),e=(0,n.default)(t,2),r=e[0],a=e[1],l=function(){var t=(0,o.default)((function*(){r&&(yield G(r),a(""))}));return function(){return t.apply(this,arguments)}}();return(0,k.jsxs)(d.default,{style:[C.block,C.row],children:[(0,k.jsx)(F,{value:r,setValue:a,handleCreateTodo:l}),(0,k.jsx)(J,{handleCreateTodo:l})]})};var A=(0,i.createContext)({handleGetTodos:function(){var t=(0,o.default)((function*(){}));return function(){return t.apply(this,arguments)}}()});function q(){var t=(0,i.useState)([]),e=(0,n.default)(t,2),r=e[0],l=e[1],s=function(){var t=(0,o.default)((function*(){var t=yield u();l(t)}));return function(){return t.apply(this,arguments)}}();return(0,i.useEffect)((function(){s()}),[]),(0,k.jsx)(d.default,{style:C.container,children:(0,k.jsx)(A.Provider,{value:{handleGetTodos:s},children:(0,k.jsxs)(d.default,{style:C.col,children:[(0,k.jsx)(a.default,{style:C.title,children:c.app_title}),(0,k.jsx)(M,{}),(0,k.jsx)(d.default,{style:{height:20}}),(0,k.jsx)(B,{todos:r})]})})})}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.m=t,(()=>{var t=[];r.O=(e,n,o,i)=>{if(!n){var a=1/0;for(c=0;c<t.length;c++){for(var[n,o,i]=t[c],d=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((t=>r.O[t](n[l])))?n.splice(l--,1):(d=!1,i<a&&(a=i));if(d){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[n,o,i]}})(),r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.p="/",(()=>{var t={179:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,i,[a,d,l]=n,u=0;if(a.some((e=>0!==t[e]))){for(o in d)r.o(d,o)&&(r.m[o]=d[o]);if(l)var c=l(r)}for(e&&e(n);u<a.length;u++)i=a[u],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(c)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var n=r.O(void 0,[138],(()=>r(6271)));n=r.O(n)})();
//# sourceMappingURL=main.1d5f2f70.js.map